{"ast":null,"code":"/**\n * @license Angular v14.2.7\n * (c) 2010-2022 Google LLC. https://angular.io/\n * License: MIT\n */\nimport { isPlatformBrowser } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { Injectable, InjectionToken, NgZone, ApplicationRef, PLATFORM_ID, APP_INITIALIZER, Injector, NgModule } from '@angular/core';\nimport { defer, throwError, fromEvent, of, concat, Subject, NEVER, merge } from 'rxjs';\nimport { map, filter, switchMap, publish, take, tap, delay } from 'rxjs/operators';\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nconst ERR_SW_NOT_SUPPORTED = 'Service workers are disabled or not supported by this browser';\n\nfunction errorObservable(message) {\n  return defer(() => throwError(new Error(message)));\n}\n/**\n * @publicApi\n */\n\n\nclass NgswCommChannel {\n  constructor(serviceWorker) {\n    this.serviceWorker = serviceWorker;\n\n    if (!serviceWorker) {\n      this.worker = this.events = this.registration = errorObservable(ERR_SW_NOT_SUPPORTED);\n    } else {\n      const controllerChangeEvents = fromEvent(serviceWorker, 'controllerchange');\n      const controllerChanges = controllerChangeEvents.pipe(map(() => serviceWorker.controller));\n      const currentController = defer(() => of(serviceWorker.controller));\n      const controllerWithChanges = concat(currentController, controllerChanges);\n      this.worker = controllerWithChanges.pipe(filter(c => !!c));\n      this.registration = this.worker.pipe(switchMap(() => serviceWorker.getRegistration()));\n      const rawEvents = fromEvent(serviceWorker, 'message');\n      const rawEventPayload = rawEvents.pipe(map(event => event.data));\n      const eventsUnconnected = rawEventPayload.pipe(filter(event => event && event.type));\n      const events = eventsUnconnected.pipe(publish());\n      events.connect();\n      this.events = events;\n    }\n  }\n\n  postMessage(action, payload) {\n    return this.worker.pipe(take(1), tap(sw => {\n      sw.postMessage({\n        action,\n        ...payload\n      });\n    })).toPromise().then(() => undefined);\n  }\n\n  postMessageWithOperation(type, payload, operationNonce) {\n    const waitForOperationCompleted = this.waitForOperationCompleted(operationNonce);\n    const postMessage = this.postMessage(type, payload);\n    return Promise.all([postMessage, waitForOperationCompleted]).then(([, result]) => result);\n  }\n\n  generateNonce() {\n    return Math.round(Math.random() * 10000000);\n  }\n\n  eventsOfType(type) {\n    let filterFn;\n\n    if (typeof type === 'string') {\n      filterFn = event => event.type === type;\n    } else {\n      filterFn = event => type.includes(event.type);\n    }\n\n    return this.events.pipe(filter(filterFn));\n  }\n\n  nextEventOfType(type) {\n    return this.eventsOfType(type).pipe(take(1));\n  }\n\n  waitForOperationCompleted(nonce) {\n    return this.eventsOfType('OPERATION_COMPLETED').pipe(filter(event => event.nonce === nonce), take(1), map(event => {\n      if (event.result !== undefined) {\n        return event.result;\n      }\n\n      throw new Error(event.error);\n    })).toPromise();\n  }\n\n  get isEnabled() {\n    return !!this.serviceWorker;\n  }\n\n}\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Subscribe and listen to\n * [Web Push\n * Notifications](https://developer.mozilla.org/en-US/docs/Web/API/Push_API/Best_Practices) through\n * Angular Service Worker.\n *\n * @usageNotes\n *\n * You can inject a `SwPush` instance into any component or service\n * as a dependency.\n *\n * <code-example path=\"service-worker/push/module.ts\" region=\"inject-sw-push\"\n * header=\"app.component.ts\"></code-example>\n *\n * To subscribe, call `SwPush.requestSubscription()`, which asks the user for permission.\n * The call returns a `Promise` with a new\n * [`PushSubscription`](https://developer.mozilla.org/en-US/docs/Web/API/PushSubscription)\n * instance.\n *\n * <code-example path=\"service-worker/push/module.ts\" region=\"subscribe-to-push\"\n * header=\"app.component.ts\"></code-example>\n *\n * A request is rejected if the user denies permission, or if the browser\n * blocks or does not support the Push API or ServiceWorkers.\n * Check `SwPush.isEnabled` to confirm status.\n *\n * Invoke Push Notifications by pushing a message with the following payload.\n *\n * ```ts\n * {\n *   \"notification\": {\n *     \"actions\": NotificationAction[],\n *     \"badge\": USVString,\n *     \"body\": DOMString,\n *     \"data\": any,\n *     \"dir\": \"auto\"|\"ltr\"|\"rtl\",\n *     \"icon\": USVString,\n *     \"image\": USVString,\n *     \"lang\": DOMString,\n *     \"renotify\": boolean,\n *     \"requireInteraction\": boolean,\n *     \"silent\": boolean,\n *     \"tag\": DOMString,\n *     \"timestamp\": DOMTimeStamp,\n *     \"title\": DOMString,\n *     \"vibrate\": number[]\n *   }\n * }\n * ```\n *\n * Only `title` is required. See `Notification`\n * [instance\n * properties](https://developer.mozilla.org/en-US/docs/Web/API/Notification#Instance_properties).\n *\n * While the subscription is active, Service Worker listens for\n * [PushEvent](https://developer.mozilla.org/en-US/docs/Web/API/PushEvent)\n * occurrences and creates\n * [Notification](https://developer.mozilla.org/en-US/docs/Web/API/Notification)\n * instances in response.\n *\n * Unsubscribe using `SwPush.unsubscribe()`.\n *\n * An application can subscribe to `SwPush.notificationClicks` observable to be notified when a user\n * clicks on a notification. For example:\n *\n * <code-example path=\"service-worker/push/module.ts\" region=\"subscribe-to-notification-clicks\"\n * header=\"app.component.ts\"></code-example>\n *\n * You can read more on handling notification clicks in the [Service worker notifications\n * guide](guide/service-worker-notifications).\n *\n * @see [Push Notifications](https://developers.google.com/web/fundamentals/codelabs/push-notifications/)\n * @see [Angular Push Notifications](https://blog.angular-university.io/angular-push-notifications/)\n * @see [MDN: Push API](https://developer.mozilla.org/en-US/docs/Web/API/Push_API)\n * @see [MDN: Notifications API](https://developer.mozilla.org/en-US/docs/Web/API/Notifications_API)\n * @see [MDN: Web Push API Notifications best practices](https://developer.mozilla.org/en-US/docs/Web/API/Push_API/Best_Practices)\n *\n * @publicApi\n */\n\n\nclass SwPush {\n  constructor(sw) {\n    this.sw = sw;\n    this.subscriptionChanges = new Subject();\n\n    if (!sw.isEnabled) {\n      this.messages = NEVER;\n      this.notificationClicks = NEVER;\n      this.subscription = NEVER;\n      return;\n    }\n\n    this.messages = this.sw.eventsOfType('PUSH').pipe(map(message => message.data));\n    this.notificationClicks = this.sw.eventsOfType('NOTIFICATION_CLICK').pipe(map(message => message.data));\n    this.pushManager = this.sw.registration.pipe(map(registration => registration.pushManager));\n    const workerDrivenSubscriptions = this.pushManager.pipe(switchMap(pm => pm.getSubscription()));\n    this.subscription = merge(workerDrivenSubscriptions, this.subscriptionChanges);\n  }\n  /**\n   * True if the Service Worker is enabled (supported by the browser and enabled via\n   * `ServiceWorkerModule`).\n   */\n\n\n  get isEnabled() {\n    return this.sw.isEnabled;\n  }\n  /**\n   * Subscribes to Web Push Notifications,\n   * after requesting and receiving user permission.\n   *\n   * @param options An object containing the `serverPublicKey` string.\n   * @returns A Promise that resolves to the new subscription object.\n   */\n\n\n  requestSubscription(options) {\n    if (!this.sw.isEnabled) {\n      return Promise.reject(new Error(ERR_SW_NOT_SUPPORTED));\n    }\n\n    const pushOptions = {\n      userVisibleOnly: true\n    };\n    let key = this.decodeBase64(options.serverPublicKey.replace(/_/g, '/').replace(/-/g, '+'));\n    let applicationServerKey = new Uint8Array(new ArrayBuffer(key.length));\n\n    for (let i = 0; i < key.length; i++) {\n      applicationServerKey[i] = key.charCodeAt(i);\n    }\n\n    pushOptions.applicationServerKey = applicationServerKey;\n    return this.pushManager.pipe(switchMap(pm => pm.subscribe(pushOptions)), take(1)).toPromise().then(sub => {\n      this.subscriptionChanges.next(sub);\n      return sub;\n    });\n  }\n  /**\n   * Unsubscribes from Service Worker push notifications.\n   *\n   * @returns A Promise that is resolved when the operation succeeds, or is rejected if there is no\n   *          active subscription or the unsubscribe operation fails.\n   */\n\n\n  unsubscribe() {\n    if (!this.sw.isEnabled) {\n      return Promise.reject(new Error(ERR_SW_NOT_SUPPORTED));\n    }\n\n    const doUnsubscribe = sub => {\n      if (sub === null) {\n        throw new Error('Not subscribed to push notifications.');\n      }\n\n      return sub.unsubscribe().then(success => {\n        if (!success) {\n          throw new Error('Unsubscribe failed!');\n        }\n\n        this.subscriptionChanges.next(null);\n      });\n    };\n\n    return this.subscription.pipe(take(1), switchMap(doUnsubscribe)).toPromise();\n  }\n\n  decodeBase64(input) {\n    return atob(input);\n  }\n\n}\n\nSwPush.ɵfac = function SwPush_Factory(t) {\n  return new (t || SwPush)(i0.ɵɵinject(NgswCommChannel));\n};\n\nSwPush.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: SwPush,\n  factory: SwPush.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(SwPush, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: NgswCommChannel\n    }];\n  }, null);\n})();\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Subscribe to update notifications from the Service Worker, trigger update\n * checks, and forcibly activate updates.\n *\n * @see {@link guide/service-worker-communications Service worker communication guide}\n *\n * @publicApi\n */\n\n\nclass SwUpdate {\n  constructor(sw) {\n    this.sw = sw;\n\n    if (!sw.isEnabled) {\n      this.versionUpdates = NEVER;\n      this.available = NEVER;\n      this.activated = NEVER;\n      this.unrecoverable = NEVER;\n      return;\n    }\n\n    this.versionUpdates = this.sw.eventsOfType(['VERSION_DETECTED', 'VERSION_INSTALLATION_FAILED', 'VERSION_READY', 'NO_NEW_VERSION_DETECTED']);\n    this.available = this.versionUpdates.pipe(filter(evt => evt.type === 'VERSION_READY'), map(evt => ({\n      type: 'UPDATE_AVAILABLE',\n      current: evt.currentVersion,\n      available: evt.latestVersion\n    })));\n    this.activated = this.sw.eventsOfType('UPDATE_ACTIVATED');\n    this.unrecoverable = this.sw.eventsOfType('UNRECOVERABLE_STATE');\n  }\n  /**\n   * True if the Service Worker is enabled (supported by the browser and enabled via\n   * `ServiceWorkerModule`).\n   */\n\n\n  get isEnabled() {\n    return this.sw.isEnabled;\n  }\n  /**\n   * Checks for an update and waits until the new version is downloaded from the server and ready\n   * for activation.\n   *\n   * @returns a promise that\n   * - resolves to `true` if a new version was found and is ready to be activated.\n   * - resolves to `false` if no new version was found\n   * - rejects if any error occurs\n   */\n\n\n  checkForUpdate() {\n    if (!this.sw.isEnabled) {\n      return Promise.reject(new Error(ERR_SW_NOT_SUPPORTED));\n    }\n\n    const nonce = this.sw.generateNonce();\n    return this.sw.postMessageWithOperation('CHECK_FOR_UPDATES', {\n      nonce\n    }, nonce);\n  }\n  /**\n   * Updates the current client (i.e. browser tab) to the latest version that is ready for\n   * activation.\n   *\n   * In most cases, you should not use this method and instead should update a client by reloading\n   * the page.\n   *\n   * <div class=\"alert is-important\">\n   *\n   * Updating a client without reloading can easily result in a broken application due to a version\n   * mismatch between the [application shell](guide/glossary#app-shell) and other page resources,\n   * such as [lazy-loaded chunks](guide/glossary#lazy-loading), whose filenames may change between\n   * versions.\n   *\n   * Only use this method, if you are certain it is safe for your specific use case.\n   *\n   * </div>\n   *\n   * @returns a promise that\n   *  - resolves to `true` if an update was activated successfully\n   *  - resolves to `false` if no update was available (for example, the client was already on the\n   *    latest version).\n   *  - rejects if any error occurs\n   */\n\n\n  activateUpdate() {\n    if (!this.sw.isEnabled) {\n      return Promise.reject(new Error(ERR_SW_NOT_SUPPORTED));\n    }\n\n    const nonce = this.sw.generateNonce();\n    return this.sw.postMessageWithOperation('ACTIVATE_UPDATE', {\n      nonce\n    }, nonce);\n  }\n\n}\n\nSwUpdate.ɵfac = function SwUpdate_Factory(t) {\n  return new (t || SwUpdate)(i0.ɵɵinject(NgswCommChannel));\n};\n\nSwUpdate.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: SwUpdate,\n  factory: SwUpdate.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(SwUpdate, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: NgswCommChannel\n    }];\n  }, null);\n})();\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Token that can be used to provide options for `ServiceWorkerModule` outside of\n * `ServiceWorkerModule.register()`.\n *\n * You can use this token to define a provider that generates the registration options at runtime,\n * for example via a function call:\n *\n * {@example service-worker/registration-options/module.ts region=\"registration-options\"\n *     header=\"app.module.ts\"}\n *\n * @publicApi\n */\n\n\nclass SwRegistrationOptions {}\n\nconst SCRIPT = new InjectionToken('NGSW_REGISTER_SCRIPT');\n\nfunction ngswAppInitializer(injector, script, options, platformId) {\n  return () => {\n    if (!(isPlatformBrowser(platformId) && 'serviceWorker' in navigator && options.enabled !== false)) {\n      return;\n    } // Wait for service worker controller changes, and fire an INITIALIZE action when a new SW\n    // becomes active. This allows the SW to initialize itself even if there is no application\n    // traffic.\n\n\n    navigator.serviceWorker.addEventListener('controllerchange', () => {\n      if (navigator.serviceWorker.controller !== null) {\n        navigator.serviceWorker.controller.postMessage({\n          action: 'INITIALIZE'\n        });\n      }\n    });\n    let readyToRegister$;\n\n    if (typeof options.registrationStrategy === 'function') {\n      readyToRegister$ = options.registrationStrategy();\n    } else {\n      const [strategy, ...args] = (options.registrationStrategy || 'registerWhenStable:30000').split(':');\n\n      switch (strategy) {\n        case 'registerImmediately':\n          readyToRegister$ = of(null);\n          break;\n\n        case 'registerWithDelay':\n          readyToRegister$ = delayWithTimeout(+args[0] || 0);\n          break;\n\n        case 'registerWhenStable':\n          readyToRegister$ = !args[0] ? whenStable(injector) : merge(whenStable(injector), delayWithTimeout(+args[0]));\n          break;\n\n        default:\n          // Unknown strategy.\n          throw new Error(`Unknown ServiceWorker registration strategy: ${options.registrationStrategy}`);\n      }\n    } // Don't return anything to avoid blocking the application until the SW is registered.\n    // Also, run outside the Angular zone to avoid preventing the app from stabilizing (especially\n    // given that some registration strategies wait for the app to stabilize).\n    // Catch and log the error if SW registration fails to avoid uncaught rejection warning.\n\n\n    const ngZone = injector.get(NgZone);\n    ngZone.runOutsideAngular(() => readyToRegister$.pipe(take(1)).subscribe(() => navigator.serviceWorker.register(script, {\n      scope: options.scope\n    }).catch(err => console.error('Service worker registration failed with:', err))));\n  };\n}\n\nfunction delayWithTimeout(timeout) {\n  return of(null).pipe(delay(timeout));\n}\n\nfunction whenStable(injector) {\n  const appRef = injector.get(ApplicationRef);\n  return appRef.isStable.pipe(filter(stable => stable));\n}\n\nfunction ngswCommChannelFactory(opts, platformId) {\n  return new NgswCommChannel(isPlatformBrowser(platformId) && opts.enabled !== false ? navigator.serviceWorker : undefined);\n}\n/**\n * @publicApi\n */\n\n\nclass ServiceWorkerModule {\n  /**\n   * Register the given Angular Service Worker script.\n   *\n   * If `enabled` is set to `false` in the given options, the module will behave as if service\n   * workers are not supported by the browser, and the service worker will not be registered.\n   */\n  static register(script, opts = {}) {\n    return {\n      ngModule: ServiceWorkerModule,\n      providers: [{\n        provide: SCRIPT,\n        useValue: script\n      }, {\n        provide: SwRegistrationOptions,\n        useValue: opts\n      }, {\n        provide: NgswCommChannel,\n        useFactory: ngswCommChannelFactory,\n        deps: [SwRegistrationOptions, PLATFORM_ID]\n      }, {\n        provide: APP_INITIALIZER,\n        useFactory: ngswAppInitializer,\n        deps: [Injector, SCRIPT, SwRegistrationOptions, PLATFORM_ID],\n        multi: true\n      }]\n    };\n  }\n\n}\n\nServiceWorkerModule.ɵfac = function ServiceWorkerModule_Factory(t) {\n  return new (t || ServiceWorkerModule)();\n};\n\nServiceWorkerModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: ServiceWorkerModule\n});\nServiceWorkerModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  providers: [SwPush, SwUpdate]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ServiceWorkerModule, [{\n    type: NgModule,\n    args: [{\n      providers: [SwPush, SwUpdate]\n    }]\n  }], null, null);\n})();\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n// This file only reexports content of the `src` folder. Keep it that way.\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { ServiceWorkerModule, SwPush, SwRegistrationOptions, SwUpdate };","map":{"version":3,"names":["isPlatformBrowser","i0","Injectable","InjectionToken","NgZone","ApplicationRef","PLATFORM_ID","APP_INITIALIZER","Injector","NgModule","defer","throwError","fromEvent","of","concat","Subject","NEVER","merge","map","filter","switchMap","publish","take","tap","delay","ERR_SW_NOT_SUPPORTED","errorObservable","message","Error","NgswCommChannel","constructor","serviceWorker","worker","events","registration","controllerChangeEvents","controllerChanges","pipe","controller","currentController","controllerWithChanges","c","getRegistration","rawEvents","rawEventPayload","event","data","eventsUnconnected","type","connect","postMessage","action","payload","sw","toPromise","then","undefined","postMessageWithOperation","operationNonce","waitForOperationCompleted","Promise","all","result","generateNonce","Math","round","random","eventsOfType","filterFn","includes","nextEventOfType","nonce","error","isEnabled","SwPush","subscriptionChanges","messages","notificationClicks","subscription","pushManager","workerDrivenSubscriptions","pm","getSubscription","requestSubscription","options","reject","pushOptions","userVisibleOnly","key","decodeBase64","serverPublicKey","replace","applicationServerKey","Uint8Array","ArrayBuffer","length","i","charCodeAt","subscribe","sub","next","unsubscribe","doUnsubscribe","success","input","atob","ɵfac","ɵprov","SwUpdate","versionUpdates","available","activated","unrecoverable","evt","current","currentVersion","latestVersion","checkForUpdate","activateUpdate","SwRegistrationOptions","SCRIPT","ngswAppInitializer","injector","script","platformId","navigator","enabled","addEventListener","readyToRegister$","registrationStrategy","strategy","args","split","delayWithTimeout","whenStable","ngZone","get","runOutsideAngular","register","scope","catch","err","console","timeout","appRef","isStable","stable","ngswCommChannelFactory","opts","ServiceWorkerModule","ngModule","providers","provide","useValue","useFactory","deps","multi","ɵmod","ɵinj"],"sources":["E:/WEB/Portfolio/cancon-pool/node_modules/@angular/service-worker/fesm2020/service-worker.mjs"],"sourcesContent":["/**\n * @license Angular v14.2.7\n * (c) 2010-2022 Google LLC. https://angular.io/\n * License: MIT\n */\n\nimport { isPlatformBrowser } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { Injectable, InjectionToken, NgZone, ApplicationRef, PLATFORM_ID, APP_INITIALIZER, Injector, NgModule } from '@angular/core';\nimport { defer, throwError, fromEvent, of, concat, Subject, NEVER, merge } from 'rxjs';\nimport { map, filter, switchMap, publish, take, tap, delay } from 'rxjs/operators';\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nconst ERR_SW_NOT_SUPPORTED = 'Service workers are disabled or not supported by this browser';\nfunction errorObservable(message) {\n    return defer(() => throwError(new Error(message)));\n}\n/**\n * @publicApi\n */\nclass NgswCommChannel {\n    constructor(serviceWorker) {\n        this.serviceWorker = serviceWorker;\n        if (!serviceWorker) {\n            this.worker = this.events = this.registration = errorObservable(ERR_SW_NOT_SUPPORTED);\n        }\n        else {\n            const controllerChangeEvents = fromEvent(serviceWorker, 'controllerchange');\n            const controllerChanges = controllerChangeEvents.pipe(map(() => serviceWorker.controller));\n            const currentController = defer(() => of(serviceWorker.controller));\n            const controllerWithChanges = concat(currentController, controllerChanges);\n            this.worker = controllerWithChanges.pipe(filter((c) => !!c));\n            this.registration = (this.worker.pipe(switchMap(() => serviceWorker.getRegistration())));\n            const rawEvents = fromEvent(serviceWorker, 'message');\n            const rawEventPayload = rawEvents.pipe(map(event => event.data));\n            const eventsUnconnected = rawEventPayload.pipe(filter(event => event && event.type));\n            const events = eventsUnconnected.pipe(publish());\n            events.connect();\n            this.events = events;\n        }\n    }\n    postMessage(action, payload) {\n        return this.worker\n            .pipe(take(1), tap((sw) => {\n            sw.postMessage({\n                action,\n                ...payload,\n            });\n        }))\n            .toPromise()\n            .then(() => undefined);\n    }\n    postMessageWithOperation(type, payload, operationNonce) {\n        const waitForOperationCompleted = this.waitForOperationCompleted(operationNonce);\n        const postMessage = this.postMessage(type, payload);\n        return Promise.all([postMessage, waitForOperationCompleted]).then(([, result]) => result);\n    }\n    generateNonce() {\n        return Math.round(Math.random() * 10000000);\n    }\n    eventsOfType(type) {\n        let filterFn;\n        if (typeof type === 'string') {\n            filterFn = (event) => event.type === type;\n        }\n        else {\n            filterFn = (event) => type.includes(event.type);\n        }\n        return this.events.pipe(filter(filterFn));\n    }\n    nextEventOfType(type) {\n        return this.eventsOfType(type).pipe(take(1));\n    }\n    waitForOperationCompleted(nonce) {\n        return this.eventsOfType('OPERATION_COMPLETED')\n            .pipe(filter(event => event.nonce === nonce), take(1), map(event => {\n            if (event.result !== undefined) {\n                return event.result;\n            }\n            throw new Error(event.error);\n        }))\n            .toPromise();\n    }\n    get isEnabled() {\n        return !!this.serviceWorker;\n    }\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Subscribe and listen to\n * [Web Push\n * Notifications](https://developer.mozilla.org/en-US/docs/Web/API/Push_API/Best_Practices) through\n * Angular Service Worker.\n *\n * @usageNotes\n *\n * You can inject a `SwPush` instance into any component or service\n * as a dependency.\n *\n * <code-example path=\"service-worker/push/module.ts\" region=\"inject-sw-push\"\n * header=\"app.component.ts\"></code-example>\n *\n * To subscribe, call `SwPush.requestSubscription()`, which asks the user for permission.\n * The call returns a `Promise` with a new\n * [`PushSubscription`](https://developer.mozilla.org/en-US/docs/Web/API/PushSubscription)\n * instance.\n *\n * <code-example path=\"service-worker/push/module.ts\" region=\"subscribe-to-push\"\n * header=\"app.component.ts\"></code-example>\n *\n * A request is rejected if the user denies permission, or if the browser\n * blocks or does not support the Push API or ServiceWorkers.\n * Check `SwPush.isEnabled` to confirm status.\n *\n * Invoke Push Notifications by pushing a message with the following payload.\n *\n * ```ts\n * {\n *   \"notification\": {\n *     \"actions\": NotificationAction[],\n *     \"badge\": USVString,\n *     \"body\": DOMString,\n *     \"data\": any,\n *     \"dir\": \"auto\"|\"ltr\"|\"rtl\",\n *     \"icon\": USVString,\n *     \"image\": USVString,\n *     \"lang\": DOMString,\n *     \"renotify\": boolean,\n *     \"requireInteraction\": boolean,\n *     \"silent\": boolean,\n *     \"tag\": DOMString,\n *     \"timestamp\": DOMTimeStamp,\n *     \"title\": DOMString,\n *     \"vibrate\": number[]\n *   }\n * }\n * ```\n *\n * Only `title` is required. See `Notification`\n * [instance\n * properties](https://developer.mozilla.org/en-US/docs/Web/API/Notification#Instance_properties).\n *\n * While the subscription is active, Service Worker listens for\n * [PushEvent](https://developer.mozilla.org/en-US/docs/Web/API/PushEvent)\n * occurrences and creates\n * [Notification](https://developer.mozilla.org/en-US/docs/Web/API/Notification)\n * instances in response.\n *\n * Unsubscribe using `SwPush.unsubscribe()`.\n *\n * An application can subscribe to `SwPush.notificationClicks` observable to be notified when a user\n * clicks on a notification. For example:\n *\n * <code-example path=\"service-worker/push/module.ts\" region=\"subscribe-to-notification-clicks\"\n * header=\"app.component.ts\"></code-example>\n *\n * You can read more on handling notification clicks in the [Service worker notifications\n * guide](guide/service-worker-notifications).\n *\n * @see [Push Notifications](https://developers.google.com/web/fundamentals/codelabs/push-notifications/)\n * @see [Angular Push Notifications](https://blog.angular-university.io/angular-push-notifications/)\n * @see [MDN: Push API](https://developer.mozilla.org/en-US/docs/Web/API/Push_API)\n * @see [MDN: Notifications API](https://developer.mozilla.org/en-US/docs/Web/API/Notifications_API)\n * @see [MDN: Web Push API Notifications best practices](https://developer.mozilla.org/en-US/docs/Web/API/Push_API/Best_Practices)\n *\n * @publicApi\n */\nclass SwPush {\n    constructor(sw) {\n        this.sw = sw;\n        this.subscriptionChanges = new Subject();\n        if (!sw.isEnabled) {\n            this.messages = NEVER;\n            this.notificationClicks = NEVER;\n            this.subscription = NEVER;\n            return;\n        }\n        this.messages = this.sw.eventsOfType('PUSH').pipe(map(message => message.data));\n        this.notificationClicks =\n            this.sw.eventsOfType('NOTIFICATION_CLICK').pipe(map((message) => message.data));\n        this.pushManager = this.sw.registration.pipe(map(registration => registration.pushManager));\n        const workerDrivenSubscriptions = this.pushManager.pipe(switchMap(pm => pm.getSubscription()));\n        this.subscription = merge(workerDrivenSubscriptions, this.subscriptionChanges);\n    }\n    /**\n     * True if the Service Worker is enabled (supported by the browser and enabled via\n     * `ServiceWorkerModule`).\n     */\n    get isEnabled() {\n        return this.sw.isEnabled;\n    }\n    /**\n     * Subscribes to Web Push Notifications,\n     * after requesting and receiving user permission.\n     *\n     * @param options An object containing the `serverPublicKey` string.\n     * @returns A Promise that resolves to the new subscription object.\n     */\n    requestSubscription(options) {\n        if (!this.sw.isEnabled) {\n            return Promise.reject(new Error(ERR_SW_NOT_SUPPORTED));\n        }\n        const pushOptions = { userVisibleOnly: true };\n        let key = this.decodeBase64(options.serverPublicKey.replace(/_/g, '/').replace(/-/g, '+'));\n        let applicationServerKey = new Uint8Array(new ArrayBuffer(key.length));\n        for (let i = 0; i < key.length; i++) {\n            applicationServerKey[i] = key.charCodeAt(i);\n        }\n        pushOptions.applicationServerKey = applicationServerKey;\n        return this.pushManager.pipe(switchMap(pm => pm.subscribe(pushOptions)), take(1))\n            .toPromise()\n            .then(sub => {\n            this.subscriptionChanges.next(sub);\n            return sub;\n        });\n    }\n    /**\n     * Unsubscribes from Service Worker push notifications.\n     *\n     * @returns A Promise that is resolved when the operation succeeds, or is rejected if there is no\n     *          active subscription or the unsubscribe operation fails.\n     */\n    unsubscribe() {\n        if (!this.sw.isEnabled) {\n            return Promise.reject(new Error(ERR_SW_NOT_SUPPORTED));\n        }\n        const doUnsubscribe = (sub) => {\n            if (sub === null) {\n                throw new Error('Not subscribed to push notifications.');\n            }\n            return sub.unsubscribe().then(success => {\n                if (!success) {\n                    throw new Error('Unsubscribe failed!');\n                }\n                this.subscriptionChanges.next(null);\n            });\n        };\n        return this.subscription.pipe(take(1), switchMap(doUnsubscribe)).toPromise();\n    }\n    decodeBase64(input) {\n        return atob(input);\n    }\n}\nSwPush.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.2.7\", ngImport: i0, type: SwPush, deps: [{ token: NgswCommChannel }], target: i0.ɵɵFactoryTarget.Injectable });\nSwPush.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"14.2.7\", ngImport: i0, type: SwPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.2.7\", ngImport: i0, type: SwPush, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: NgswCommChannel }]; } });\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Subscribe to update notifications from the Service Worker, trigger update\n * checks, and forcibly activate updates.\n *\n * @see {@link guide/service-worker-communications Service worker communication guide}\n *\n * @publicApi\n */\nclass SwUpdate {\n    constructor(sw) {\n        this.sw = sw;\n        if (!sw.isEnabled) {\n            this.versionUpdates = NEVER;\n            this.available = NEVER;\n            this.activated = NEVER;\n            this.unrecoverable = NEVER;\n            return;\n        }\n        this.versionUpdates = this.sw.eventsOfType([\n            'VERSION_DETECTED',\n            'VERSION_INSTALLATION_FAILED',\n            'VERSION_READY',\n            'NO_NEW_VERSION_DETECTED',\n        ]);\n        this.available = this.versionUpdates.pipe(filter((evt) => evt.type === 'VERSION_READY'), map(evt => ({\n            type: 'UPDATE_AVAILABLE',\n            current: evt.currentVersion,\n            available: evt.latestVersion,\n        })));\n        this.activated = this.sw.eventsOfType('UPDATE_ACTIVATED');\n        this.unrecoverable = this.sw.eventsOfType('UNRECOVERABLE_STATE');\n    }\n    /**\n     * True if the Service Worker is enabled (supported by the browser and enabled via\n     * `ServiceWorkerModule`).\n     */\n    get isEnabled() {\n        return this.sw.isEnabled;\n    }\n    /**\n     * Checks for an update and waits until the new version is downloaded from the server and ready\n     * for activation.\n     *\n     * @returns a promise that\n     * - resolves to `true` if a new version was found and is ready to be activated.\n     * - resolves to `false` if no new version was found\n     * - rejects if any error occurs\n     */\n    checkForUpdate() {\n        if (!this.sw.isEnabled) {\n            return Promise.reject(new Error(ERR_SW_NOT_SUPPORTED));\n        }\n        const nonce = this.sw.generateNonce();\n        return this.sw.postMessageWithOperation('CHECK_FOR_UPDATES', { nonce }, nonce);\n    }\n    /**\n     * Updates the current client (i.e. browser tab) to the latest version that is ready for\n     * activation.\n     *\n     * In most cases, you should not use this method and instead should update a client by reloading\n     * the page.\n     *\n     * <div class=\"alert is-important\">\n     *\n     * Updating a client without reloading can easily result in a broken application due to a version\n     * mismatch between the [application shell](guide/glossary#app-shell) and other page resources,\n     * such as [lazy-loaded chunks](guide/glossary#lazy-loading), whose filenames may change between\n     * versions.\n     *\n     * Only use this method, if you are certain it is safe for your specific use case.\n     *\n     * </div>\n     *\n     * @returns a promise that\n     *  - resolves to `true` if an update was activated successfully\n     *  - resolves to `false` if no update was available (for example, the client was already on the\n     *    latest version).\n     *  - rejects if any error occurs\n     */\n    activateUpdate() {\n        if (!this.sw.isEnabled) {\n            return Promise.reject(new Error(ERR_SW_NOT_SUPPORTED));\n        }\n        const nonce = this.sw.generateNonce();\n        return this.sw.postMessageWithOperation('ACTIVATE_UPDATE', { nonce }, nonce);\n    }\n}\nSwUpdate.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.2.7\", ngImport: i0, type: SwUpdate, deps: [{ token: NgswCommChannel }], target: i0.ɵɵFactoryTarget.Injectable });\nSwUpdate.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"14.2.7\", ngImport: i0, type: SwUpdate });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.2.7\", ngImport: i0, type: SwUpdate, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: NgswCommChannel }]; } });\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Token that can be used to provide options for `ServiceWorkerModule` outside of\n * `ServiceWorkerModule.register()`.\n *\n * You can use this token to define a provider that generates the registration options at runtime,\n * for example via a function call:\n *\n * {@example service-worker/registration-options/module.ts region=\"registration-options\"\n *     header=\"app.module.ts\"}\n *\n * @publicApi\n */\nclass SwRegistrationOptions {\n}\nconst SCRIPT = new InjectionToken('NGSW_REGISTER_SCRIPT');\nfunction ngswAppInitializer(injector, script, options, platformId) {\n    return () => {\n        if (!(isPlatformBrowser(platformId) && ('serviceWorker' in navigator) &&\n            options.enabled !== false)) {\n            return;\n        }\n        // Wait for service worker controller changes, and fire an INITIALIZE action when a new SW\n        // becomes active. This allows the SW to initialize itself even if there is no application\n        // traffic.\n        navigator.serviceWorker.addEventListener('controllerchange', () => {\n            if (navigator.serviceWorker.controller !== null) {\n                navigator.serviceWorker.controller.postMessage({ action: 'INITIALIZE' });\n            }\n        });\n        let readyToRegister$;\n        if (typeof options.registrationStrategy === 'function') {\n            readyToRegister$ = options.registrationStrategy();\n        }\n        else {\n            const [strategy, ...args] = (options.registrationStrategy || 'registerWhenStable:30000').split(':');\n            switch (strategy) {\n                case 'registerImmediately':\n                    readyToRegister$ = of(null);\n                    break;\n                case 'registerWithDelay':\n                    readyToRegister$ = delayWithTimeout(+args[0] || 0);\n                    break;\n                case 'registerWhenStable':\n                    readyToRegister$ = !args[0] ? whenStable(injector) :\n                        merge(whenStable(injector), delayWithTimeout(+args[0]));\n                    break;\n                default:\n                    // Unknown strategy.\n                    throw new Error(`Unknown ServiceWorker registration strategy: ${options.registrationStrategy}`);\n            }\n        }\n        // Don't return anything to avoid blocking the application until the SW is registered.\n        // Also, run outside the Angular zone to avoid preventing the app from stabilizing (especially\n        // given that some registration strategies wait for the app to stabilize).\n        // Catch and log the error if SW registration fails to avoid uncaught rejection warning.\n        const ngZone = injector.get(NgZone);\n        ngZone.runOutsideAngular(() => readyToRegister$.pipe(take(1)).subscribe(() => navigator.serviceWorker.register(script, { scope: options.scope })\n            .catch(err => console.error('Service worker registration failed with:', err))));\n    };\n}\nfunction delayWithTimeout(timeout) {\n    return of(null).pipe(delay(timeout));\n}\nfunction whenStable(injector) {\n    const appRef = injector.get(ApplicationRef);\n    return appRef.isStable.pipe(filter(stable => stable));\n}\nfunction ngswCommChannelFactory(opts, platformId) {\n    return new NgswCommChannel(isPlatformBrowser(platformId) && opts.enabled !== false ? navigator.serviceWorker :\n        undefined);\n}\n/**\n * @publicApi\n */\nclass ServiceWorkerModule {\n    /**\n     * Register the given Angular Service Worker script.\n     *\n     * If `enabled` is set to `false` in the given options, the module will behave as if service\n     * workers are not supported by the browser, and the service worker will not be registered.\n     */\n    static register(script, opts = {}) {\n        return {\n            ngModule: ServiceWorkerModule,\n            providers: [\n                { provide: SCRIPT, useValue: script },\n                { provide: SwRegistrationOptions, useValue: opts },\n                {\n                    provide: NgswCommChannel,\n                    useFactory: ngswCommChannelFactory,\n                    deps: [SwRegistrationOptions, PLATFORM_ID]\n                },\n                {\n                    provide: APP_INITIALIZER,\n                    useFactory: ngswAppInitializer,\n                    deps: [Injector, SCRIPT, SwRegistrationOptions, PLATFORM_ID],\n                    multi: true,\n                },\n            ],\n        };\n    }\n}\nServiceWorkerModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.2.7\", ngImport: i0, type: ServiceWorkerModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nServiceWorkerModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"14.2.7\", ngImport: i0, type: ServiceWorkerModule });\nServiceWorkerModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"14.2.7\", ngImport: i0, type: ServiceWorkerModule, providers: [SwPush, SwUpdate] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.2.7\", ngImport: i0, type: ServiceWorkerModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    providers: [SwPush, SwUpdate],\n                }]\n        }] });\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n// This file only reexports content of the `src` folder. Keep it that way.\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { ServiceWorkerModule, SwPush, SwRegistrationOptions, SwUpdate };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}