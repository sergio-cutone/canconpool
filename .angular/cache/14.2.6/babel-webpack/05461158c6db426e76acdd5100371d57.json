{"ast":null,"code":"import { finalize } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./player.service\";\nimport * as i2 from \"@angular/common\";\n\nfunction AppComponent_table_3_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const person_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(person_r3.team.slice(0, 3).toUpperCase());\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(person_r3.position);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(person_r3.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(person_r3.points);\n  }\n}\n\nfunction AppComponent_table_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"table\")(1, \"thead\")(2, \"tr\")(3, \"th\", 2);\n    i0.ɵɵlistener(\"click\", function AppComponent_table_3_Template_th_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const teamStat_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.expandTeam(teamStat_r1.teamName.toLowerCase()));\n    });\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 3);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(7, \"tbody\", 4)(8, \"tr\")(9, \"td\", 5);\n    i0.ɵɵtext(10, \"TEAM\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\", 5);\n    i0.ɵɵtext(12, \"POS\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\", 6);\n    i0.ɵɵtext(14, \"PLAYER\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\", 5);\n    i0.ɵɵtext(16, \"PTS\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(17, AppComponent_table_3_tr_17_Template, 9, 4, \"tr\", 1);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const teamStat_r1 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", teamStat_r1.teamName, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", teamStat_r1.total, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"id\", teamStat_r1.teamName.toLowerCase());\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngForOf\", teamStat_r1.people);\n  }\n}\n\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor(playerService) {\n      this.playerService = playerService;\n      this.title = 'cancon-pool';\n      this.teams = [];\n      this.owners = [{\n        owner: 'Barry',\n        f1: 8481540,\n        f2: 8477934,\n        f3: 8480801,\n        d1: 8476853,\n        d2: 8477504,\n        g: 8474593,\n        teamid: 23,\n        coach: 'Boudreau'\n      }, {\n        owner: 'Gary',\n        f1: 8478402,\n        f2: 8477496,\n        f3: 8482116,\n        d1: 8482087,\n        d2: 8480145,\n        g: 8477967,\n        teamid: 10,\n        coach: 'Keefe'\n      }, {\n        owner: 'Jerry',\n        f1: 8479318,\n        f2: 8478398,\n        f3: 8480012,\n        d1: 8478469,\n        d2: 8475227,\n        g: 8475789,\n        teamid: 20,\n        coach: 'Sutter'\n      }, {\n        owner: 'Larry',\n        f1: 8480018,\n        f2: 8478396,\n        f3: 8479337,\n        d1: 8480800,\n        d2: 8475166,\n        g: 8476945,\n        teamid: 22,\n        coach: 'Woodcroft'\n      }, {\n        owner: 'Sherry',\n        f1: 8478483,\n        f2: 8476456,\n        f3: 8476468,\n        d1: 8482964,\n        d2: 8480803,\n        g: 8478492,\n        teamid: 52,\n        coach: 'Bowness'\n      }];\n      this.teamStats = [];\n    }\n\n    expandTeam(id = '') {\n      document.getElementById(id).classList.toggle(\"on\");\n    }\n\n    ngOnInit() {\n      this.owners.forEach(owner => {\n        this.playerService.getTeam(owner).pipe(finalize(() => {\n          this.teamStats.sort((a, b) => {\n            return parseInt(b.total) - parseInt(a.total);\n          });\n        })).subscribe(response => {\n          this.name = JSON.stringify(response);\n          this.name = response;\n          const people = [{\n            name: this.name.f1Name.people[0].fullName,\n            position: 'FWD',\n            points: this.name.f1Stats.stats[0].splits[0].stat.assists + this.name.f1Stats.stats[0].splits[0].stat.goals,\n            team: this.name.f1Name.people[0].currentTeam.name\n          }, {\n            name: this.name.f2Name.people[0].fullName,\n            position: 'FWD',\n            points: this.name.f2Stats.stats[0].splits[0].stat.assists + this.name.f2Stats.stats[0].splits[0].stat.goals,\n            team: this.name.f2Name.people[0].currentTeam.name\n          }, {\n            name: this.name.f3Name.people[0].fullName,\n            position: 'FWD',\n            points: this.name.f3Stats.stats[0].splits[0].stat.assists + this.name.f3Stats.stats[0].splits[0].stat.goals,\n            team: this.name.f3Name.people[0].currentTeam.name\n          }, {\n            name: this.name.d1Name.people[0].fullName,\n            position: 'DEF',\n            points: this.name.d1Stats.stats[0].splits[0].stat.assists + this.name.d1Stats.stats[0].splits[0].stat.goals,\n            team: this.name.d1Name.people[0].currentTeam.name\n          }, {\n            name: this.name.d2Name.people[0].fullName,\n            position: 'DEF',\n            points: this.name.d2Stats.stats[0].splits[0].stat.assists + this.name.d2Stats.stats[0].splits[0].stat.goals,\n            team: this.name.d2Name.people[0].currentTeam.name\n          }, {\n            name: this.name.gName.people[0].fullName,\n            position: 'GOL',\n            points: this.name.gStats.stats[0].splits[0].stat.wins,\n            team: this.name.gName.people[0].currentTeam.name\n          }, {\n            name: owner.coach,\n            position: 'COA',\n            points: this.name.coach.teams[0].teamStats[0].splits[0].stat.wins,\n            team: this.name.coach.teams[0].name\n          }];\n          this.team = {\n            teamName: owner.owner,\n            people: people.sort((a, b) => b.points - a.points),\n            total: parseInt(this.name.f1Stats.stats[0].splits[0].stat.assists + this.name.f1Stats.stats[0].splits[0].stat.goals + this.name.f2Stats.stats[0].splits[0].stat.assists + this.name.f2Stats.stats[0].splits[0].stat.goals + this.name.f3Stats.stats[0].splits[0].stat.assists + this.name.f3Stats.stats[0].splits[0].stat.goals + this.name.d1Stats.stats[0].splits[0].stat.assists + this.name.d1Stats.stats[0].splits[0].stat.goals + this.name.d2Stats.stats[0].splits[0].stat.assists + this.name.d2Stats.stats[0].splits[0].stat.goals + this.name.gStats.stats[0].splits[0].stat.wins + this.name.coach.teams[0].teamStats[0].splits[0].stat.wins)\n          };\n          this.teamStats.push(this.team);\n        });\n      });\n    }\n\n  }\n\n  AppComponent.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.PlayerService));\n  };\n\n  AppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"app-root\"]],\n    decls: 4,\n    vars: 1,\n    consts: [[\"role\", \"main\", 1, \"content\"], [4, \"ngFor\", \"ngForOf\"], [\"colspan\", \"3\", 1, \"team-name\", 3, \"click\"], [2, \"background\", \"#cc0000\", \"color\", \"#fff\", \"font-weight\", \"strong\"], [3, \"id\"], [2, \"background\", \"#000\", \"color\", \"#fff\"], [2, \"background\", \"#000\", \"color\", \"#fff\", \"width\", \"40%\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n        i0.ɵɵtext(2, \"CanCon Pool\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(3, AppComponent_table_3_Template, 18, 4, \"table\", 1);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.teamStats);\n      }\n    },\n    dependencies: [i2.NgForOf],\n    styles: [\".content[_ngcontent-%COMP%]{max-width:1200px;text-align:center;margin:0 auto}.team[_ngcontent-%COMP%]{padding:27px;border:1px solid #000}table[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}thead[_ngcontent-%COMP%]{width:100%}tbody[_ngcontent-%COMP%]{width:100%;display:none}tbody.on[_ngcontent-%COMP%]{display:contents}th[_ngcontent-%COMP%]{background:#EFEFEF}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #000;padding:4px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:20%}.team-name[_ngcontent-%COMP%]{cursor:pointer}.team-name[_ngcontent-%COMP%]:hover{background:#EFEFEF}\"]\n  });\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}